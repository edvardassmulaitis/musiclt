'use client'

import { useEffect, useState } from 'react'
import Link from 'next/link'

// â”€â”€â”€ Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const NEWS_MAIN = {
  tag: 'Interviu',
  title: 'Andrius Mamontovas: â€Muzika visada randa keliÄ… â€“ net ir tyliausiuose namuose"',
  excerpt: 'Legendinis rokerys pasakoja apie naujausiÄ… albumÄ…, ilgÄ… kÅ«rybinÄ™ pertraukÄ… ir tai, kodÄ—l lietuviÅ¡ka scena jam vis dar svarbiausia po trijÅ³ deÅ¡imtmeÄiÅ³. Albumas â€Tyla" Å¾ada bÅ«ti vienu asmeniÅ¡kiausiÅ³ jo karjeroje â€” dainos apie Å¡eimÄ…, praradimus ir naujus pradÅ¾ius. â€Kartais reikia nutilti, kad iÅ¡girstum, kas svarbiausia", â€“ sako Mamontovas.',
  daysAgo: 0,
  likes: 127,
}

const NEWS_SIDE = [
  { id: 1, tag: 'Eurovizija', title: 'Silvester Belt atstovauja LietuvÄ… Bazelyje: paskelbta oficiali daina', daysAgo: 0, likes: 89 },
  { id: 2, tag: 'Albumai', title: 'Skamp sugrÄ¯Å¾ta: pirmasis albumas per 15 metÅ³ jau geguÅ¾Ä™', daysAgo: 1, likes: 56 },
  { id: 3, tag: 'Renginiai', title: 'Granatas skelbia Vilniaus arenÄ… spalio 18 d.', daysAgo: 2, likes: 34 },
  { id: 4, tag: 'Premjera', title: 'Monika Liu iÅ¡leido naujÄ… dainÄ… â€Palauk"', daysAgo: 1, likes: 71 },
]

const LT_TOP = [
  { pos:1, prev:1, artist:'Monika Liu', title:'Sentimentai', wks:4 },
  { pos:2, prev:4, artist:'Silvester Belt', title:'Bend The Lie', wks:2 },
  { pos:3, prev:2, artist:'Jazzu', title:'Kur Eisi', wks:7 },
  { pos:4, prev:6, artist:'Galerija', title:'Naktis', wks:3 },
  { pos:5, prev:null, artist:'DÅ¾. DÅ¾o', title:'Vilniaus Vakaras', wks:1 },
]

const INTL_TOP = [
  { pos:1, prev:2, artist:'Rose & Bruno Mars', title:'APT.' },
  { pos:2, prev:1, artist:'Lady Gaga', title:'Disease' },
  { pos:3, prev:3, artist:'Sabrina Carpenter', title:'Espresso' },
  { pos:4, prev:5, artist:'Billie Eilish', title:'Birds of a Feather' },
  { pos:5, prev:4, artist:'Chappell Roan', title:'Good Luck, Babe!' },
]

const SOTD = {
  artist: 'Foje',
  title: 'Å½mogus Kuris Nemoka Å okti',
  by: 'rokaslt',
  votes: 47,
  yesterday: { artist: 'Monika Liu', title: 'Sentimentai', votes: 89 },
  pretenders: [
    { artist: 'Monika Liu', title: 'Sentimentai', by: 'disk0', votes: 31 },
    { artist: 'Andrius Mamontovas', title: 'Laikas', by: 'metal', votes: 28 },
    { artist: 'Jazzu', title: 'Kur Eisi', by: 'jazzf', votes: 19 },
    { artist: 'SaulÄ—s KlioÅ¡as', title: 'Ruduo', by: 'slk', votes: 15 },
  ],
}

const SHOUTBOX = [
  { user: 'muzikoslt', msg: 'Kas Å¾ino kada bus kitas Skamp koncertas?', time: '2 min.' },
  { user: 'rockfanas', msg: 'Mamontovas ğŸ”¥ğŸ”¥ğŸ”¥', time: '5 min.' },
  { user: 'jazzlover', msg: 'IeÅ¡kau bilieto Ä¯ JurgÄ… 03-01', time: '12 min.' },
  { user: 'indie_lt', msg: 'Kas klausot SaulÄ—s KlioÅ¡ naujÄ… EP?', time: '18 min.' },
  { user: 'vertejas', msg: 'PadÄ—kite iÅ¡verst Arctic Monkeys dainÄ…!', time: '23 min.' },
  { user: 'kurejaslt', msg: 'Ä®kÄ—liau savo pirmÄ… demo ğŸ¸', time: '31 min.' },
]

const NEW_ALBUMS = [
  { artist:'Jurga', title:'Vasaros Naktys', tracks:11, released:true, daysUntil:0 },
  { artist:'Galerija', title:'Naktis', tracks:8, released:true, daysUntil:0 },
  { artist:'Dainava', title:'Tamsoje', tracks:9, released:false, daysUntil:3 },
  { artist:'SaulÄ—s KlioÅ¡as', title:'RugsÄ—jis EP', tracks:5, released:false, daysUntil:7 },
  { artist:'Inculto', title:'Retro', tracks:13, released:false, daysUntil:14 },
  { artist:'Skamp', title:'SugrÄ¯Å¾imas', tracks:12, released:false, daysUntil:45 },
]

const NEW_SONGS = [
  { artist:'Monika Liu', title:'Palauk', duration:'3:22' },
  { artist:'Silvester Belt', title:'Bend The Lie', duration:'2:58' },
  { artist:'Galerija', title:'Miestas Miega', duration:'4:11' },
  { artist:'Jurga', title:'Vasara', duration:'3:44' },
]

const EVENTS = [
  { d:'22', m:'VAS', title:'KÄ™stutis AntanÄ—lis', venue:'Å½algirio Arena, Kaunas', sold:false },
  { d:'28', m:'VAS', title:'Monika Liu Acoustic', venue:'Tamsta Club, Vilnius', sold:false },
  { d:'01', m:'KOV', title:'Jurga & Orkestrinis junginys', venue:'LNFO, Vilnius', sold:false },
  { d:'15', m:'KOV', title:'Donatas Montvydas', venue:'Compensa, Vilnius', sold:true },
]

const COMMUNITY = [
  { type:'discussion', title:'Kaip vertinate naujÄ… Skamp albumÄ…?', author:'muzikoslt', replies:47, likes:23, daysAgo:0 },
  { type:'blog', title:'Mano top 10 LT albumÅ³ 2025 metais', author:'rockfanas', replies:12, likes:56, daysAgo:1 },
  { type:'translation', title:'Arctic Monkeys - 505 (vertimas)', author:'vertejas_lt', replies:8, likes:34, daysAgo:2 },
  { type:'creation', title:'[Original] Mano pirma daina â€Vasara"', author:'kurejaslt', replies:15, likes:41, daysAgo:1 },
]

const DISCOVER = [
  { id:'1', name:'Monika Liu', genre:'Pop', avatar:null, isNew:true },
  { id:'2', name:'Jazzu', genre:'Pop/Soul', avatar:null, isNew:false },
  { id:'3', name:'DÅ¾. DÅ¾o', genre:'Hip-hop', avatar:null, isNew:true },
  { id:'4', name:'Galerija', genre:'Elektronika', avatar:null, isNew:false },
  { id:'5', name:'SaulÄ—s KlioÅ¡as', genre:'Indie pop', avatar:null, isNew:true },
  { id:'6', name:'Inculto', genre:'Elektronika', avatar:null, isNew:false },
]

const RADIO = [
  { name:'M-1 Extra', freq:'107.5 FM', playing:'Monika Liu â€” Sentimentai', active:true },
  { name:'Power Hit Radio', freq:'100.7 FM', playing:'Bruno Mars â€” APT.', active:false },
  { name:'Lietus', freq:'96.2 FM', playing:'Andrius Mamontovas â€” Tu', active:false },
  { name:'LRT Opus', freq:'103.1 FM', playing:'Beethoven â€” Symphony No.5', active:false },
]

const TODAY = [
  { name:'Marijonas MikutaviÄius', type:'birthday', age:48, date:'02-17', photo:null },
  { name:'Andrius Mamontovas', type:'birthday', age:55, date:'02-17', photo:null },
  { name:'Vytautas Kernagis', type:'death', years:20, date:'02-17', photo:null },
]

// â”€â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function formatDaysAgo(d: number) {
  if (d === 0) return 'Å iandien'
  if (d === 1) return 'Vakar'
  return `PrieÅ¡ ${d} d.`
}

function bg(seed: string | number) {
  const h = typeof seed === 'number' ? seed : ((seed.charCodeAt(0)*37+seed.charCodeAt(seed.length-1)*13)%360)
  return `linear-gradient(135deg,hsl(${h},50%,25%),hsl(${(h+40)%360},45%,18%))`
}

function Tag({ label, color='blue' }: { label:string; color?:'orange'|'blue'|'green'|'red' }) {
  const cls = { orange:'bg-music-orange text-white', blue:'bg-music-blue text-white', green:'bg-emerald-500 text-white', red:'bg-red-500 text-white' }[color]
  return <span className={`inline-block text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded ${cls}`}>{label}</span>
}

function SectionHead({ children }: { children:React.ReactNode }) {
  return (
    <div className="flex items-center gap-3 mb-3">
      <h2 className="text-[11px] font-black uppercase tracking-widest text-gray-500">{children}</h2>
      <div className="flex-1 h-px bg-gray-200" />
    </div>
  )
}

function Trend({ pos,prev }: { pos:number; prev:number|null }) {
  if (prev===null) return <span className="text-[10px] font-bold text-emerald-500 w-6 text-center">N</span>
  if (pos<prev) return <span className="text-[10px] text-emerald-500 w-4">â†‘</span>
  if (pos>prev) return <span className="text-[10px] text-red-400 w-4">â†“</span>
  return <span className="text-[10px] text-gray-300 w-4">â”€</span>
}

// â”€â”€â”€ Component â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

export default function Home() {
  const [artists, setArtists] = useState<any[]>([])
  const [activeChart, setActiveChart] = useState<'lt'|'intl'>('lt')
  const [votedSotd, setVotedSotd] = useState<number|null>(null)

  useEffect(() => {
    try { setArtists(JSON.parse(localStorage.getItem('artists')||'[]')) } catch {}
  }, [])

  const displayArtists = artists.length > 0 ? artists.slice(0,6) : DISCOVER

  return (
    <div className="min-h-screen bg-[#f2f2f0]">

      {/* â”€â”€ Masthead â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
      <header className="bg-black sticky top-0 z-50 shadow-lg">
        <div className="max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-3 flex items-center gap-5">
          <Link href="/" className="flex-shrink-0">
            <span className="text-[32px] font-bold tracking-tight leading-none">
              <span className="text-white">music</span><span className="text-music-orange">.lt</span>
            </span>
          </Link>

          <div className="flex-1 max-w-md hidden md:block">
            <div className="relative">
              <input type="text" placeholder="IeÅ¡koti atlikÄ—jÅ³, dainÅ³, naujienÅ³..."
                className="w-full bg-gray-800 border border-gray-700 text-white text-sm px-4 py-2 rounded-full placeholder:text-gray-400 focus:outline-none focus:border-music-orange transition-colors" />
              <span className="absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-500">ğŸ”</span>
            </div>
          </div>

          <div className="ml-auto flex items-center gap-2 flex-shrink-0">
            <button className="px-3 py-1.5 text-[13px] text-gray-400 hover:text-white transition-colors">Prisijungti</button>
            <button className="px-4 py-1.5 text-[13px] bg-music-orange hover:bg-orange-500 text-white rounded-full font-bold transition-colors">Registruotis</button>
          </div>
        </div>
      </header>

      {/* â”€â”€ Nav strip â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
      <div className="bg-music-blue overflow-x-auto scrollbar-none">
        <div className="max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 flex">
          {[['Nauja muzika','#'],['Topai','#'],['GrupÄ—s ir atlikÄ—jai','/atlikejai'],['Renginiai','#'],['Diskusijos ir blogai','#'],['Pokalbiai','#']].map(([label,href],i)=>(
            <a key={label} href={href}
              className={`px-4 py-2.5 text-[13px] font-medium whitespace-nowrap transition-colors
                ${i===0?'bg-music-orange text-white':'text-blue-100 hover:text-white hover:bg-blue-600'}`}>
              {label}
            </a>
          ))}
        </div>
      </div>

      {/* â”€â”€ Main â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
      <main className="max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-5">
        <div className="grid grid-cols-12 gap-4 lg:gap-5">

          {/* â•â• LEFT (main) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */}
          <div className="col-span-12 lg:col-span-8 space-y-4 lg:space-y-5">

            {/* â”€ NEWS + TOPAI ROW (equal height) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
            <div className="grid grid-cols-12 gap-4 lg:gap-5 items-stretch">
              {/* Naujienos */}
              <div className="col-span-12 lg:col-span-7 flex">
                <div className="bg-white rounded-xl shadow-sm overflow-hidden flex flex-col w-full">
                  {/* Header */}
                  <div className="px-4 pt-4 pb-3 border-b border-gray-100 flex-shrink-0">
                    <div className="flex items-center gap-3">
                      <h2 className="text-[11px] font-black uppercase tracking-widest text-gray-500">Naujienos</h2>
                      <div className="flex-1 h-px bg-gray-200" />
                      <a href="#" className="text-xs text-music-blue hover:text-music-orange font-bold transition-colors">Visos â†’</a>
                    </div>
                  </div>

                  {/* Main news */}
                  <article className="px-4 py-3 border-b border-gray-50 hover:bg-gray-50 cursor-pointer group transition-colors flex-shrink-0">
                    <div className="flex gap-3">
                      <div className="w-20 h-20 flex-shrink-0 rounded-lg overflow-hidden" style={{background:bg('Mamontovas')}}>
                        <div className="w-full h-full flex items-center justify-center text-3xl opacity-10 select-none">ğŸ¸</div>
                      </div>
                      <div className="flex-1 min-w-0">
                        <div className="flex items-center gap-2 mb-1">
                          <Tag label={NEWS_MAIN.tag} color="blue" />
                          <span className="text-[9px] text-gray-400">{formatDaysAgo(NEWS_MAIN.daysAgo)}</span>
                          {NEWS_MAIN.likes>0 && <span className="text-[9px] text-music-orange font-bold ml-auto">â¤ {NEWS_MAIN.likes}</span>}
                        </div>
                        <h3 className="font-bold text-sm text-gray-900 leading-tight mb-1 group-hover:text-music-blue transition-colors line-clamp-2">
                          {NEWS_MAIN.title}
                        </h3>
                        <p className="text-xs text-gray-500 leading-relaxed line-clamp-2">{NEWS_MAIN.excerpt}</p>
                      </div>
                    </div>
                  </article>

                  {/* Side news - scrollable */}
                  <div className="flex-1 overflow-y-auto divide-y divide-gray-50">
                    {NEWS_SIDE.map(n=>(
                      <article key={n.id} className="px-4 py-3 hover:bg-gray-50 cursor-pointer group transition-colors">
                        <div className="flex items-start justify-between gap-2 mb-1.5">
                          <span className="text-[9px] text-gray-400 flex-shrink-0">{formatDaysAgo(n.daysAgo)}</span>
                          {n.likes>0 && <span className="text-[9px] text-music-orange font-bold">â¤ {n.likes}</span>}
                        </div>
                        <p className="text-sm font-bold text-gray-900 leading-snug group-hover:text-music-blue transition-colors line-clamp-2">
                          {n.title}
                        </p>
                      </article>
                    ))}
                  </div>
                </div>
              </div>

              {/* Topai - in same row as news for equal height */}
              <div className="col-span-12 lg:col-span-5 hidden lg:block">
                <div className="bg-white rounded-xl shadow-sm overflow-hidden flex flex-col h-full">
                  <div className="flex items-center border-b border-gray-200 flex-shrink-0">
                    <button onClick={()=>setActiveChart('lt')}
                      className={`flex-1 px-4 py-3 text-[11px] font-black uppercase tracking-wide transition-colors border-b-2
                        ${activeChart==='lt'?'text-music-blue border-music-blue bg-blue-50':'text-gray-400 border-transparent hover:text-gray-600'}`}>
                      ğŸ‡±ğŸ‡¹ LT TOP 30
                    </button>
                    <button onClick={()=>setActiveChart('intl')}
                      className={`flex-1 px-4 py-3 text-[11px] font-black uppercase tracking-wide transition-colors border-b-2
                        ${activeChart==='intl'?'text-music-orange border-music-orange bg-orange-50':'text-gray-400 border-transparent hover:text-gray-600'}`}>
                      ğŸŒ TOP 40
                    </button>
                  </div>

                  <div className="flex-1 overflow-y-auto divide-y divide-gray-50">
                    {(activeChart==='lt'?LT_TOP:INTL_TOP).map(t=>{
                      const up = t.prev !== null && t.pos < t.prev
                      const dn = t.prev !== null && t.pos > t.prev
                      const color = activeChart==='lt'?'music-blue':'music-orange'
                      return (
                        <div key={t.pos} className="flex items-center gap-2 px-3 py-2.5 hover:bg-gray-50 cursor-pointer group transition-colors">
                          <div className={`w-6 text-center font-black text-sm flex-shrink-0 ${t.pos===1?`text-${color}`:'text-gray-200'}`}>{t.pos}</div>
                          <Trend pos={t.pos} prev={t.prev} />
                          <div className="w-8 h-8 rounded flex-shrink-0 overflow-hidden" style={{background:bg(t.artist)}}>
                            <div className="w-full h-full flex items-center justify-center text-sm opacity-20 text-white">â™ª</div>
                          </div>
                          <div className="flex-1 min-w-0">
                            <div className={`text-sm font-bold text-gray-900 truncate group-hover:text-${color} transition-colors`}>{t.title}</div>
                            <div className="text-xs text-gray-400 truncate">{t.artist}</div>
                          </div>
                        </div>
                      )
                    })}
                  </div>

                  <div className="p-3 border-t border-gray-100 bg-gray-50 flex-shrink-0">
                    <button className={`w-full py-2.5 text-white rounded-lg font-bold text-sm hover:shadow-lg transition-all ${activeChart==='lt'?'bg-music-blue hover:bg-blue-600':'bg-music-orange hover:bg-orange-500'}`}>
                      ğŸ—³ï¸ {activeChart==='lt'?'Balsuok LT TOP 30':'Balsuok TOP 40'}
                    </button>
                  </div>
                </div>
              </div>
            </div>

            {/* â”€ NAUJA MUZIKA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
            <div>
              <SectionHead>ğŸ§ Nauja muzika</SectionHead>
              <div className="bg-white rounded-xl shadow-sm overflow-hidden">
                <div className="p-4 border-b border-gray-50">
                  <div className="text-[10px] text-gray-400 uppercase font-bold tracking-wider mb-3">Albumai</div>
                  <div className="flex gap-3 overflow-x-auto pb-2" style={{scrollbarWidth:'thin'}}>
                    {NEW_ALBUMS.map((a,i)=>(
                      <div key={i} className="group cursor-pointer flex-shrink-0 w-[140px]">
                        <div className="aspect-square rounded-lg mb-2 relative overflow-hidden shadow-sm group-hover:shadow-md transition-shadow" style={{background:bg(a.artist)}}>
                          <div className="absolute inset-0 flex items-center justify-center text-4xl opacity-15 text-white">â™ª</div>
                          <div className="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center">
                            <span className="text-white text-2xl opacity-0 group-hover:opacity-100 transition-opacity">â–¶</span>
                          </div>
                          <span className={`absolute top-2 left-2 text-[9px] font-black px-2 py-1 rounded uppercase ${a.released?'bg-music-blue text-white':'bg-orange-500 text-white'}`}>
                            {a.released?'IÅ¡leista':`Po ${a.daysUntil}d`}
                          </span>
                        </div>
                        <div className="text-sm font-bold text-gray-900 truncate group-hover:text-music-blue transition-colors">{a.title}</div>
                        <div className="text-xs text-gray-400 truncate">{a.artist}</div>
                        <div className="text-[10px] text-gray-300 mt-0.5">{a.tracks} {a.tracks===1?'daina':'dainos'}</div>
                      </div>
                    ))}
                  </div>
                </div>

                <div className="p-4">
                  <div className="text-[10px] text-gray-400 uppercase font-bold tracking-wider mb-3">Naujos dainos</div>
                  <div className="grid grid-cols-1 sm:grid-cols-2 gap-2">
                    {NEW_SONGS.map((s,i)=>(
                      <div key={i} className="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer group transition-colors">
                        <div className="w-12 h-12 rounded-lg flex-shrink-0 overflow-hidden" style={{background:bg(s.artist)}}>
                          <div className="w-full h-full flex items-center justify-center text-base opacity-20 text-white">â™ª</div>
                        </div>
                        <div className="flex-1 min-w-0">
                          <div className="text-sm font-bold text-gray-900 truncate group-hover:text-music-blue transition-colors">{s.title}</div>
                          <div className="text-xs text-gray-400 truncate">{s.artist}</div>
                        </div>
                        <span className="text-[10px] text-gray-400 flex-shrink-0">{s.duration}</span>
                        <button className="w-8 h-8 rounded-full bg-gray-100 group-hover:bg-music-blue flex items-center justify-center transition-colors flex-shrink-0">
                          <span className="text-[10px] text-gray-500 group-hover:text-white transition-colors">â–¶</span>
                        </button>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </div>

            {/* â”€ DIENOS DAINA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
            <div>
              <SectionHead>ğŸµ Dienos daina</SectionHead>
              <div className="bg-gradient-to-br from-music-blue to-blue-600 rounded-xl overflow-hidden shadow-lg">
                <div className="p-5">
                  <div className="flex gap-4 mb-4">
                    <div className="w-20 h-20 rounded-xl flex-shrink-0 overflow-hidden shadow-lg" style={{background:bg(SOTD.artist)}}>
                      <div className="w-full h-full flex items-center justify-center text-3xl opacity-20 text-white">â™ª</div>
                    </div>
                    <div className="flex-1 min-w-0">
                      <div className="text-[10px] text-blue-200 mb-1">siÅ«lo <span className="text-music-orange font-bold">{SOTD.by}</span></div>
                      <div className="text-white font-black text-xl leading-tight mb-1">{SOTD.artist}</div>
                      <div className="text-blue-100 text-sm mb-2">{SOTD.title}</div>
                      <div className="flex items-center gap-2">
                        <span className="text-sm font-bold text-white">ğŸ† {SOTD.votes} balsÅ³</span>
                        <button className="px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-xs font-bold transition-colors">
                          â–¶ Klausyti
                        </button>
                      </div>
                    </div>
                  </div>

                  <div className="text-[9px] text-blue-200 uppercase tracking-wider mb-2 font-bold">Pretendentai</div>
                  <div className="grid grid-cols-2 gap-2">
                    {SOTD.pretenders.map((p,i)=>(
                      <button key={i} onClick={()=>setVotedSotd(i)}
                        disabled={votedSotd!==null}
                        className={`flex items-center gap-2 p-2 rounded-lg text-left transition-all
                          ${votedSotd===i?'bg-white/30 border border-white/40':'bg-white/10 hover:bg-white/20 border border-transparent'}`}>
                        <span className="text-[9px] font-bold text-blue-200 w-4">#{i+1}</span>
                        <div className="flex-1 min-w-0">
                          <div className="text-xs font-bold text-white truncate">{p.artist}</div>
                          <div className="text-[10px] text-blue-200 truncate">{p.title}</div>
                        </div>
                        <span className="text-[10px] font-bold text-white">â–²{p.votes}</span>
                      </button>
                    ))}
                  </div>

                  <div className="mt-3 pt-3 border-t border-white/20 text-[10px] text-blue-200">
                    Vakar nugalÄ—jo: <span className="text-white font-bold">{SOTD.yesterday.artist}</span> ({SOTD.yesterday.votes})
                  </div>
                </div>
              </div>
            </div>

            {/* â”€ BENDRUOMENÄ– â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
            <div>
              <SectionHead>ğŸ’¬ BendruomenÄ—</SectionHead>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                {COMMUNITY.map((c,i)=>(
                  <article key={i} className="bg-white rounded-xl p-3 shadow-sm hover:shadow-md transition-shadow cursor-pointer group">
                    <div className="flex items-start gap-2 mb-2">
                      <div className="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm" style={{background:bg(c.author)}}>
                        <span className="text-white opacity-60">ğŸ‘¤</span>
                      </div>
                      <div className="flex-1 min-w-0">
                        <div className="flex items-center gap-1.5 mb-1">
                          <Tag label={c.type==='discussion'?'Diskusija':c.type==='blog'?'Blogas':c.type==='translation'?'Vertimas':'KÅ«ryba'} color={c.type==='discussion'?'blue':'green'} />
                          <span className="text-[9px] text-gray-400">{formatDaysAgo(c.daysAgo)}</span>
                        </div>
                        <h3 className="font-bold text-sm text-gray-900 group-hover:text-music-blue transition-colors mb-1 line-clamp-2 leading-snug">{c.title}</h3>
                        <div className="flex items-center gap-2 text-[10px]">
                          <span className="text-gray-400">ğŸ’¬ {c.replies}</span>
                          {c.likes>0 && <span className="text-music-orange font-bold">â¤ {c.likes}</span>}
                          <span className="ml-auto text-music-blue truncate">{c.author}</span>
                        </div>
                      </div>
                    </div>
                  </article>
                ))}
              </div>
            </div>

          </div>

          {/* â•â• RIGHT (sidebar) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */}
          <aside className="col-span-12 lg:col-span-4 space-y-4 lg:space-y-5">

            {/* â”€ RENGINIAI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
            <div className="bg-white rounded-xl shadow-sm overflow-hidden">
              <div className="px-4 py-3 border-b border-gray-100 flex items-center gap-3">
                <h3 className="text-[11px] font-black uppercase tracking-widest text-gray-500">ğŸ“… ArtÄ—jantys renginiai</h3>
                <div className="flex-1 h-px bg-gray-200" />
              </div>
              <div className="divide-y divide-gray-50">
                {EVENTS.map((e,i)=>(
                  <div key={i} className="flex gap-3 px-4 py-3 hover:bg-gray-50 cursor-pointer group transition-colors">
                    <div className="flex-shrink-0 text-center w-9">
                      <div className="text-xl font-black text-gray-900 leading-none">{e.d}</div>
                      <div className="text-[9px] font-black text-music-blue uppercase">{e.m}</div>
                    </div>
                    <div className="flex-1 min-w-0">
                      <div className="text-sm font-bold text-gray-900 truncate group-hover:text-music-blue transition-colors">{e.title}</div>
                      <div className="text-xs text-gray-400 truncate">{e.venue}</div>
                      {e.sold && <span className="text-[10px] font-bold text-red-500 mt-0.5 inline-block">â›” PARDUOTA</span>}
                    </div>
                  </div>
                ))}
              </div>
            </div>

            {/* â”€ POKALBIÅ² DÄ–Å½UTÄ– â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
            <div className="bg-white rounded-xl shadow-sm overflow-hidden">
              <div className="px-4 py-3 border-b border-gray-100 flex items-center gap-3">
                <h3 className="text-[11px] font-black uppercase tracking-widest text-gray-500">ğŸ’¬ PokalbiÅ³ dÄ—Å¾utÄ—</h3>
                <div className="flex-1 h-px bg-gray-200" />
              </div>
              <div className="divide-y divide-gray-50 max-h-[400px] overflow-y-auto">
                {SHOUTBOX.map((sh,i)=>(
                  <div key={i} className="p-3 hover:bg-gray-50 transition-colors">
                    <div className="flex items-start gap-2">
                      <div className="w-6 h-6 rounded-full flex-shrink-0" style={{background:bg(sh.user)}}>
                        <div className="w-full h-full flex items-center justify-center text-xs text-white opacity-60">ğŸ‘¤</div>
                      </div>
                      <div className="flex-1 min-w-0">
                        <div className="flex items-center gap-2 mb-0.5">
                          <span className="text-xs font-bold text-music-blue">{sh.user}</span>
                          <span className="text-[10px] text-gray-400">{sh.time}</span>
                        </div>
                        <p className="text-xs text-gray-600 leading-relaxed">{sh.msg}</p>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
              <div className="p-3 border-t border-gray-100 bg-gray-50">
                <input type="text" placeholder="RaÅ¡yk Å¾inutÄ™..."
                  className="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-music-blue transition-colors" />
              </div>
            </div>

          </aside>
        </div>

        {/* â”€â”€ ATRASK (full width) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
        <div className="mt-8">
          <div className="flex items-center gap-3 mb-4">
            <h2 className="text-[11px] font-black uppercase tracking-widest text-gray-500 group cursor-help relative">
              ğŸ” Atrask
              <span className="invisible group-hover:visible absolute left-0 top-full mt-1 w-64 bg-gray-900 text-white text-[10px] normal-case font-normal px-3 py-2 rounded-lg shadow-lg z-10">
                Naujai pridÄ—tos arba neseniai suÅ¾ibusios grupÄ—s bei atlikÄ—jai
              </span>
            </h2>
            <div className="flex-1 h-px bg-gray-200" />
          </div>
          <div className="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4">
            {displayArtists.map((a:any)=>(
              <div key={a.id} className="group text-center cursor-pointer relative">
                {a.isNew && <span className="absolute -top-1 -right-1 w-5 h-5 bg-music-orange text-white text-[9px] font-black rounded-full flex items-center justify-center z-10">N</span>}
                <div className="aspect-square rounded-full mb-2 overflow-hidden shadow-sm group-hover:shadow-md transition-all mx-auto" style={{background:a.avatar?undefined:bg(a.name)}}>
                  {a.avatar
                    ?<img src={a.avatar} alt={a.name} className="w-full h-full object-cover" />
                    :<div className="w-full h-full flex items-center justify-center font-black text-white text-xl opacity-60">{a.name[0]}</div>}
                </div>
                <div className="text-[11px] font-bold text-gray-900 truncate group-hover:text-music-blue transition-colors px-1">{a.name}</div>
                <div className="text-[10px] text-gray-400 truncate px-1">{a.genre}</div>
              </div>
            ))}
          </div>
        </div>

        {/* â”€â”€ Å IANDIEN (full width bottom) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
        <div className="mt-8">
          <SectionHead>ğŸ“… Å iandien</SectionHead>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
            {TODAY.map((t,i)=>(
              <div key={i} className={`rounded-xl p-4 flex items-center gap-4 shadow-sm
                ${t.type==='birthday'?'bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-100':'bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200'}`}>
                <div className="w-16 h-16 rounded-full flex-shrink-0 overflow-hidden" style={{background:t.photo?undefined:bg(t.name)}}>
                  {t.photo
                    ?<img src={t.photo} alt={t.name} className="w-full h-full object-cover" />
                    :<div className="w-full h-full flex items-center justify-center font-black text-white text-2xl opacity-60">{t.name[0]}</div>}
                </div>
                <div className="flex-1 min-w-0">
                  <div className="text-sm font-bold text-gray-900 mb-0.5">{t.name}</div>
                  <div className="text-xs text-gray-600">
                    {t.type==='birthday'
                      ?<><span className="text-lg">ğŸ‚</span> Å iandien {t.age} metÅ³</>
                      :<><span className="text-lg">ğŸ•¯ï¸</span> Mirties {t.years} metinÄ—s</>}
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>

      </main>

      {/* â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
      <footer className="bg-gray-900 mt-10 border-t border-gray-800">
        <div className="max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-10">
          <div className="grid grid-cols-2 md:grid-cols-4 gap-8 mb-8">
            <div>
              <div className="text-2xl font-black mb-3">
                <span className="text-white">music</span><span className="text-music-orange">.lt</span>
              </div>
              <p className="text-sm text-gray-600 leading-relaxed">
                DidÅ¾iausias lietuviÅ¡kos muzikos portalas nuo 1999 m.
              </p>
              <div className="mt-3 text-xs text-gray-700">
                <div>ğŸ“§ info@music.lt</div>
                <div>ğŸ“ +370 600 12345</div>
              </div>
            </div>
            {[
              {t:'NarÅ¡yti',l:['Naujienos','AtlikÄ—jai','Albumai','Dainos','TOP 40','Renginiai']},
              {t:'BendruomenÄ—',l:['Diskusijos','Blogai','Vertimai','KÅ«ryba','PokalbiÅ³ dÄ—Å¾utÄ—','Vartotojai']},
              {t:'Apie',l:['Apie mus','Reklama','Kontaktai','Privatumo politika','TaisyklÄ—s','Admin']},
            ].map(col=>(
              <div key={col.t}>
                <h4 className="text-white text-[10px] font-black uppercase tracking-widest mb-3">{col.t}</h4>
                <ul className="space-y-2">
                  {col.l.map(l=><li key={l}><a href={l==='Admin'?'/admin':'#'} className="text-sm text-gray-600 hover:text-white transition-colors">{l}</a></li>)}
                </ul>
              </div>
            ))}
          </div>
          <div className="pt-6 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center gap-3">
            <span className="text-xs text-gray-700">Â© 2026 Music.lt â€” Visos teisÄ—s saugomos</span>
            <div className="flex gap-5">
              {['Facebook','Instagram','YouTube','TikTok','Spotify'].map(s=>(
                <a key={s} href="#" className="text-xs text-gray-700 hover:text-white transition-colors">{s}</a>
              ))}
            </div>
          </div>
        </div>
      </footer>

    </div>
  )
}
